name: Database Ci

on:
  push:
    branches: [ "master" ]

jobs:
  build_and_publish:
    runs-on: ubuntu-latest

    steps:
    - name: checker1
      run: |
        ls
    - name: checker2
      working-directory: DB
      run: |
        ls
    - name: build image
      working-directory: DB
      run: |
        docker build . -t kevinlee584/librarysystem-DB:latest

    - name: publish
      run: |
        docker login -u kevinlee584 -p ${{ secrets.DOCKER_HUB_TOKEN }}
        docker push kevinlee584/librarysystem-DB:latest